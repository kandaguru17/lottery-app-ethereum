(this["webpackJsonplottery-app"]=this["webpackJsonplottery-app"]||[]).push([[0],{198:function(e,t,n){e.exports=n(476)},203:function(e,t,n){},205:function(e,t,n){},217:function(e,t){},226:function(e,t){},243:function(e,t){},245:function(e,t){},260:function(e,t){},261:function(e,t){},263:function(e,t){},264:function(e,t){},340:function(e,t){},342:function(e,t){},351:function(e,t){},353:function(e,t){},378:function(e,t){},380:function(e,t){},386:function(e,t){},387:function(e,t){},389:function(e,t){},401:function(e,t){},404:function(e,t){},409:function(e,t){},420:function(e,t){},423:function(e,t){},476:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),c=n(194),o=n.n(c),s=(n(203),n(64)),u=n(18),l=n.n(u),i=n(15),m=n(65),p=n(197),f=(n(205),n(195)),b=n.n(f);window.ethereum.enable();var y=new b.a(window.web3.currentProvider),h=new y.eth.Contract([{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"chooseWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"enroll",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"players",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],"0xcd1E7Ff26950867ece1701E0C49d5E26b9539E92"),v={manager:"",players:[],balance:"",value:"",message:""},d="Please wait for transaction to complete...";var g=function(){var e=Object(a.useState)(v),t=Object(p.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.methods.manager().call();case 2:return t=e.sent,e.next=5,h.methods.getPlayers().call();case 5:return n=e.sent,e.next=8,y.eth.getBalance(h.options.address);case 8:a=e.sent,r=n[0],c((function(e){return Object(i.a)(Object(i.a)({},e),{},{manager:t,players:n,balance:a,currentPlayer:r})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n.message]);var o=function(){var e=Object(m.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.eth.getAccounts();case 3:return a=e.sent,c((function(e){return Object(i.a)(Object(i.a)({},e),{},{message:d})})),e.prev=5,e.next=8,h.methods.enroll().send({from:a[0],value:y.utils.toWei(n.value,"ether")});case 8:c((function(e){return Object(i.a)(Object(i.a)({},e),{},{message:"You are successfully enrolled"})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),c((function(t){return Object(i.a)(Object(i.a)({},t),{},{message:e.t0.message})})),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.eth.getAccounts();case 2:return t=e.sent,c((function(e){return Object(i.a)(Object(i.a)({},e),{},{message:d})})),e.prev=4,e.next=7,h.methods.chooseWinner().send({from:t[0]});case 7:n=e.sent,console.log(n),c((function(e){return Object(i.a)(Object(i.a)({},e),{},{message:"winner is Chosen! please check your metamask account to see if your are LUCKY!!"})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),c((function(t){return Object(i.a)(Object(i.a)({},t),{},{message:e.t0.message})})),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center pb-5"},"LOTTERY CONTRACT"),r.a.createElement("h3",{className:"text-center pb-5"},"CONTRACT MANAGED BY : ",r.a.createElement("em",null,n.manager)),r.a.createElement("div",{className:"row offset-1"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",{className:"pb-3"},"Number of players participating : ",n.players.length," "),r.a.createElement("h3",null,"Players in the lottery:"),r.a.createElement("ul",null,n.players.map((function(e){return r.a.createElement("li",null,r.a.createElement("em",null,e))})))),r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",{className:"pb-3"},"Money in the Wallet:"," "," ".concat(y.utils.fromWei(n.balance,"ether")," Ether")),r.a.createElement("form",{onSubmit:o},r.a.createElement("h3",null,"Try your Luck Yo!"),r.a.createElement("div",{className:"form-group row mx-auto "},r.a.createElement("input",{type:"number",name:"value",placeholder:"Amount in Ethers",value:n.value,onChange:function(e){return function(e){e.persist(),c((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(s.a)({},e.target.name,e.target.value))}))}(e)},className:" col-6 form-control mr-2"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Enter"))))),r.a.createElement("div",{className:"col-12 text-center pt-5"},r.a.createElement("h3",null,"Pick a random Winner"),r.a.createElement("button",{className:"btn btn-success",type:"button",onClick:u},"Choose")),r.a.createElement("h2",null,n.message)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(475);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.b45ddc7d.chunk.js.map